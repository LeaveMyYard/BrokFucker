{"version":3,"sources":["letter-a.png","constants.js","services/Auth.jsx","components/PrivateRoute.jsx","components/IndexPage.jsx","components/LoginPage.jsx","services/Translate.jsx","services/Lots.jsx","components/LotsItem.jsx","utils/dateFix.jsx","components/LotsList.jsx","components/LotsPage.jsx","components/VerificationLots.jsx","components/GuaranteeLots.jsx","components/ModeratorsPage.jsx","components/ApprovedLots.jsx","components/UnapprovedLots.jsx","components/Sidebar.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","URL","localStorage","getItem","email","password","window","atob","userData","this","createAuthToken","btoa","authToken","fetch","method","headers","Authorization","response","json","result","ok","Error","msg","type","setItem","clear","PrivateRoute","children","rest","render","location","authService","isAuthenticated","to","pathname","state","from","IndexPage","props","Login","useState","setEmail","setPassword","error","setError","history","useHistory","event","a","preventDefault","login","push","console","className","onSubmit","FormGroup","controlId","FormLabel","FormControl","autoFocus","value","onChange","e","target","Button","block","disabled","length","Translate","data","cash","cashless","any","every_month","term_end","other","Email","Phone","getAuthToken","log","lot","id","reason","body","JSON","stringify","guarantee","guarantee_percentage","LotsItem","refreshListParent","refreshList","lotIndex","setGuarantee","lotsPageType","useContext","LotsPageTypeContext","onApprove","lotsService","approve","onRemove","remove","onGuaranteeSet","guaranteeApprove","onGuaranteeRemove","guaranteeRemove","onSecurityCheckApprove","securityCheckApprove","onSecurityCheckDecline","securityCheckDecline","key","date","givenDate","Date","replace","day","getDate","month","getMonth","year","getFullYear","dateFix","name","user","amount","currency","term","translateService","return_way","security","percentage","form","lotsPageTypesEnum","VERIFICATION","onClick","security_checked","GUARANTEE","parseInt","isNaN","undefined","onGuaranteeChange","UNAPPROVED","LotsList","list","isGuaranteeList","show","map","defaultProps","LotsPage","loading","setLoading","lots","setLots","getLots","useEffect","VerificationLots","onVerifyApprove","onVerifyRemove","verificationLots","GuaranteeLots","guaranteeLots","ModeratorsPage","errorMsg","setErrorMsg","handleMakeModerator","modermail","document","getElementById","alert","message","handleDeleteModerator","Spinner","size","animation","ApprovedLots","onSubscriptionDecline","getApprovedSubscriptions","index","href","UnapprovedLots","onSubscriptionApprove","getUnapprovedSubscriptions","createContext","Sidebar","useLocation","includes","lotsPageTypes","setLotsPageTypes","handleLogout","AuthService","logout","changeLotsPageType","lpt","Provider","src","logo","alt","exact","path","component","App","basename","Boolean","hostname","match","ReactDOM","StrictMode","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.860d5a2f.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAADUElEQVR4nO2cTUsbQRjHn2qE1Lz4QtGTEYyIBxVLjwq1xWuhH6F67zcomILfoPf2U+TcWiziqaVW9KChKoLQLRrdxLC7xjJhDbszY/7JZlYoPD/Yw87OS/zhPPvsZiYUMwUiuo3xWIz7D+hRShgW1AksCJBofbkjBojoabDBs2x2PJPofAi3XqcL11XKZf667vyZ4wQHKBPRd6ViF5gUNEtEn4MFr0ZGaC2fVyoi/jgOfbUsUIvoXan04cxxgkXfTAdunmIAFgRgQYBuYtAqEeXuTuYzmbHXo6OhCs+Hh5VGJnk5NERz6XSzx8rNzVjRsgrSEF/8IxLdClq4O0knEpECcjcIQUH2q9Vc0bLWNF1GFsRTDMCCACwI8Kj15Sar/tHk48zM7FQqlb07z/T20lwmozSUebu3Rz+urpTyICKTLnteqEzEGznmyFzX63RUq4VKt8rl46Jlncgfo92Mu90gnQsGZMFUKkULg4NKRcQv26bN83NQSyV4t7qPxz09NN3fH7r607Zzwbutz8A9XSjwFAOwIIBuig34D55NRBKYlp7KRcxBHNdqdCLFBPf2doeILkFTBZEEijwnWD6eTDamVSue9PXRdCoVqnHhujNnjuNJzTZ13eiC9JL8VF6YnIyUBL4/PKTCwYFc/CJi4iYy5FASuJ7PKzGnHdZKJdqtVOSaOhc8xRAsCMCCALogHQkRkD+dnoaa7tq2iDUbUn+/Iw6hxK2tcnnFz3MaiICMkslOMSZI3K00AXnDD64mUF5bFC1rOZgEiruVaUE8xQAsCMCCACwIwIIALAjAggAsCMCCACwIwIIALAhgcn2QjnH/DWVcZGPsu0Hcgt74x38LTzEACwKwIICxGDSWTDa+HjJBxfPo6Pq6457EK1fTGBOUSyaNLaBqd5XrQ8BTDMCCACwIwIIALAjAggAsCGAsD7r0PNqxbaU8CmIr1H612nFLsZhKLKoyiTFBQs7i9rZS/pCI7+bXJyaMjshTDMCCACwIEPcbRd0CKpOsaBaJGyVuQSYXUOlYjlsQTzEACwKwIAALArAgAAsCsCAAC4rAksFfjIozSSR/j5du3CiHFv4PArAgAAsC6B5WL3RbjyISdetTu4i97/inqpiYIKJ/H/T/fbHJO4kAAAAASUVORK5CYII=\"","export const URL = \"http://localhost:5000/api/v1/\";\r\n\r\nexport const BASE_HREF = \"/admin\";\r\n\r\nexport function encData() {\r\n  return window.btoa(\r\n    localStorage.getItem(\"email\") +\r\n      \":\" +\r\n      window.atob(localStorage.getItem(\"password\"))\r\n  );\r\n}\r\n","import { URL } from \"../constants\";\r\n\r\nclass AuthService {\r\n  isAuthenticated() {\r\n    return !!localStorage.getItem(\"email\");\r\n  }\r\n\r\n  getAuthToken() {\r\n    const email = localStorage.getItem(\"email\");\r\n    const password = window.atob(localStorage.getItem(\"password\"));\r\n    const userData = `${email}:${password}`;\r\n    const authToken = this.createAuthToken(userData);\r\n\r\n    return authToken;\r\n  }\r\n\r\n  createAuthToken(userData) {\r\n    return window.btoa(userData);\r\n  }\r\n\r\n  async login({ email, password }) {\r\n    const userData = `${email}:${password}`;\r\n    const authToken = this.createAuthToken(userData);\r\n\r\n    try {\r\n      const response = await fetch(URL + \"user\", {\r\n        method: \"GET\",\r\n        headers: { Authorization: `Basic ${authToken}` },\r\n      });\r\n      const result = await response.json();\r\n      if (!response.ok) {\r\n        throw new Error(result.msg);\r\n      }\r\n      if (result.type === \"admin\" || result.type === \"moderator\") {\r\n        localStorage.setItem(\"role\", result.type);\r\n        localStorage.setItem(\"email\", result.email);\r\n        localStorage.setItem(\"password\", window.btoa(password));\r\n      } else {\r\n        //error msg for users\r\n      }\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async logout() {\r\n    localStorage.clear();\r\n  }\r\n}\r\n\r\nexport default new AuthService();\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nimport authService from \"../services/Auth\";\r\n\r\nexport default function PrivateRoute({ children, ...rest }) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        authService.isAuthenticated() ? (\r\n          children\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/login\",\r\n              state: { from: location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nexport default function IndexPage(props) {\r\n  return <Redirect to=\"/dashboard\" />;\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\nimport { Button, FormGroup, FormControl, FormLabel } from \"react-bootstrap\";\r\n\r\nimport \"../Login.css\";\r\nimport authService from \"../services/Auth\";\r\n\r\nexport default function Login(props) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  if (authService.isAuthenticated()) {\r\n    return <Redirect to=\"/dashboard\" />;\r\n  }\r\n\r\n  function validateForm() {\r\n    return email.length > 0 && password.length > 7;\r\n  }\r\n\r\n  async function handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      await authService.login({ email, password });\r\n      history.push(\"/dashboard/lots/unapproved\");\r\n    } catch (error) {\r\n      console.error(error);\r\n      setError(\"У вас нет прав для входа.\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"Login\">\r\n      <h1 className=\"login_heading\">Login</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <FormGroup controlId=\"email\">\r\n          <FormLabel>Email</FormLabel>\r\n          <FormControl\r\n            autoFocus\r\n            type=\"text\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup controlId=\"password\">\r\n          <FormLabel>Password</FormLabel>\r\n          <FormControl\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            type=\"password\"\r\n          />\r\n        </FormGroup>\r\n        <Button\r\n          className=\"login-btn\"\r\n          block\r\n          disabled={!validateForm()}\r\n          type=\"submit\"\r\n        >\r\n          Login\r\n        </Button>\r\n      </form>\r\n      {error && <p className=\"login_error-msg\">{error}</p>}\r\n    </div>\r\n  );\r\n}\r\n","export default function Translate(data) {\r\n  const vocabulary = {\r\n    cash: \"Наличные\",\r\n    cashless: \"Безналичные\",\r\n    any: \"Любой\",\r\n    every_month: \"Ежемесячно\",\r\n    term_end: \"Окончание срока\",\r\n    other: \"Другое\",\r\n    Email: \"Email\",\r\n    Phone: \"Телефон\",\r\n  };\r\n\r\n  return vocabulary[data];\r\n}\r\n","import authService from \"./Auth\";\r\nimport { URL } from \"../constants\";\r\n\r\nclass LotsService {\r\n  async getLots() {\r\n    try {\r\n      const authToken = authService.getAuthToken();\r\n\r\n      const response = await fetch(URL + \"lots/unapproved\", {\r\n        method: \"GET\",\r\n        headers: { Authorization: `Basic ${authToken}` },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Unsuccessfull response\");\r\n      }\r\n      console.log(response);\r\n      const result = await response.json();\r\n      return result;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async approve(lot) {\r\n    try {\r\n      const authToken = authService.getAuthToken();\r\n\r\n      const response = await fetch(URL + `lots/${lot.id}/approve`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          Authorization: `Basic ${authToken}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Unsuccessfull response\");\r\n      }\r\n\r\n      return await response.json();\r\n    } catch (error) {\r\n    } finally {\r\n      // await refreshList();\r\n    }\r\n  }\r\n\r\n  async remove(lot) {\r\n    try {\r\n      const authToken = authService.getAuthToken();\r\n      // const reason = document.getElementById(\"declineReason\").value;\r\n      const reason = { reason: \"Лот не подходит под стандарты.\" };\r\n      const response = await fetch(URL + `lots/unapproved/${lot.id}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          Authorization: `Basic ${authToken}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(reason),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Unsuccessfull response\");\r\n      }\r\n\r\n      return await response.json();\r\n    } catch (error) {\r\n    } finally {\r\n      // await refreshList();\r\n    }\r\n  }\r\n\r\n  async guaranteeApprove(lot) {\r\n    try {\r\n      const authToken = authService.getAuthToken();\r\n      const guarantee = lot.guarantee_percentage;\r\n      const response = await fetch(URL + `lots/${lot.id}/guarantee`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          Authorization: `Basic ${authToken}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ value: guarantee }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Unsuccessfull response\");\r\n      }\r\n\r\n      return await response.json();\r\n    } catch (error) {\r\n    } finally {\r\n      // await refreshList();\r\n    }\r\n  }\r\n\r\n  async guaranteeRemove(lot) {\r\n    try {\r\n      const authToken = authService.getAuthToken();\r\n\r\n      const response = await fetch(URL + `lots/${lot.id}/guarantee`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          Authorization: `Basic ${authToken}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Unsuccessfull response\");\r\n      }\r\n\r\n      return await response.json();\r\n    } catch (error) {\r\n    } finally {\r\n      // await refreshList();\r\n    }\r\n  }\r\n\r\n  async getApprovedSubscriptions() {\r\n    try {\r\n      const authToken = authService.getAuthToken();\r\n      const response = await fetch(URL + \"lots/subscription/approved\", {\r\n        method: \"GET\",\r\n        headers: { Authorization: `Basic ${authToken}` },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Unsuccessfull response\");\r\n      }\r\n      console.log(response);\r\n      const result = await response.json();\r\n      return result;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async getUnapprovedSubscriptions() {\r\n    try {\r\n      const authToken = authService.getAuthToken();\r\n      const response = await fetch(URL + \"lots/subscription/unapproved\", {\r\n        method: \"GET\",\r\n        headers: { Authorization: `Basic ${authToken}` },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Unsuccessfull response\");\r\n      }\r\n      console.log(response);\r\n      const result = await response.json();\r\n      return result;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async guaranteeLots() {\r\n    try {\r\n      const authToken = authService.getAuthToken();\r\n\r\n      const response = await fetch(URL + \"lots/requested/guarantee\", {\r\n        method: \"GET\",\r\n        headers: { Authorization: `Basic ${authToken}` },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Unsuccessfull response\");\r\n      }\r\n      console.log(response);\r\n      const result = await response.json();\r\n      return result;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async verificationLots() {\r\n    try {\r\n      const authToken = authService.getAuthToken();\r\n\r\n      const response = await fetch(\r\n        URL + \"lots/requested/security_verification\",\r\n        {\r\n          method: \"GET\",\r\n          headers: { Authorization: `Basic ${authToken}` },\r\n        }\r\n      );\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Unsuccessfull response\");\r\n      }\r\n      console.log(response);\r\n      const result = await response.json();\r\n      return result;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async securityCheckApprove(lot) {\r\n    try {\r\n      const authToken = authService.getAuthToken();\r\n\r\n      const response = await fetch(URL + `lots/${lot.id}/security`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          Authorization: `Basic ${authToken}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Unsuccessfull response\");\r\n      }\r\n\r\n      return await response.json();\r\n    } catch (error) {\r\n    } finally {\r\n      // await refreshList();\r\n    }\r\n  }\r\n\r\n  async securityCheckDecline(lot) {\r\n    try {\r\n      const authToken = authService.getAuthToken();\r\n\r\n      const response = await fetch(URL + `lots/${lot.id}/security`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          Authorization: `Basic ${authToken}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Unsuccessfull response\");\r\n      }\r\n\r\n      return await response.json();\r\n    } catch (error) {\r\n    } finally {\r\n      // await refreshList();\r\n    }\r\n  }\r\n}\r\n\r\nexport default new LotsService();\r\n","import React, { useState, useContext } from \"react\";\r\n\r\nimport lotsService from \"../services/Lots\";\r\nimport translateService from \"../services/Translate\";\r\nimport dateFix from \"../utils/dateFix\";\r\nimport { LotsPageTypeContext, lotsPageTypesEnum } from \"./Sidebar\";\r\n\r\nexport default function LotsItem({\r\n  lot,\r\n  refreshList: refreshListParent,\r\n  lotIndex,\r\n}) {\r\n  const [guarantee, setGuarantee] = useState(lot.guarantee_percentage);\r\n  const lotsPageType = useContext(LotsPageTypeContext);\r\n\r\n  const onApprove = async () => {\r\n    try {\r\n      await lotsService.approve(lot);\r\n    } catch (error) {\r\n      console.error(error);\r\n    } finally {\r\n      await refreshListParent();\r\n    }\r\n  };\r\n\r\n  const onRemove = async () => {\r\n    try {\r\n      await lotsService.remove(lot);\r\n    } catch (error) {\r\n      console.error(error);\r\n    } finally {\r\n      await refreshListParent();\r\n    }\r\n  };\r\n\r\n  const onGuaranteeSet = async () => {\r\n    try {\r\n      await lotsService.guaranteeApprove(lot);\r\n    } catch (error) {\r\n      console.error(error);\r\n    } finally {\r\n      await refreshListParent();\r\n    }\r\n  };\r\n\r\n  const onGuaranteeRemove = async () => {\r\n    try {\r\n      lot.guarantee_percentage = 0;\r\n\r\n      await lotsService.guaranteeRemove(lot);\r\n    } catch (error) {\r\n      console.error(error);\r\n    } finally {\r\n      await refreshListParent();\r\n    }\r\n  };\r\n\r\n  const onSecurityCheckApprove = async () => {\r\n    try {\r\n      await lotsService.securityCheckApprove(lot);\r\n    } catch (error) {\r\n      console.error(error);\r\n    } finally {\r\n      await refreshListParent();\r\n    }\r\n  };\r\n\r\n  const onSecurityCheckDecline = async () => {\r\n    try {\r\n      await lotsService.securityCheckDecline(lot);\r\n    } catch (error) {\r\n      console.error(error);\r\n    } finally {\r\n      await refreshListParent();\r\n    }\r\n  };\r\n\r\n  const onGuaranteeChange = (event, lot, lotIndex) => {\r\n    let result = parseInt(event.target.value);\r\n\r\n    if (isNaN(result)) {\r\n      result = undefined;\r\n    }\r\n\r\n    // console.log(`onGuaranteeChange() args:`, result, typeof result);\r\n\r\n    lot.guarantee_percentage = result;\r\n    setGuarantee(lot.guarantee_percentage);\r\n  };\r\n\r\n  return (\r\n    <tr key={lot.id}>\r\n      <td>{dateFix(lot.date)}</td>\r\n      <td>{lot.name}</td>\r\n      <td>{lot.user}</td>\r\n      <td>{lot.amount}</td>\r\n      <td>{lot.currency}</td>\r\n      <td>{lot.term}</td>\r\n      <td>{translateService(lot.return_way)}</td>\r\n      <td>{lot.security}</td>\r\n      <td>{lot.percentage}</td>\r\n      <td>{translateService(lot.form)}</td>\r\n      <td>\r\n        {lotsPageType === lotsPageTypesEnum.VERIFICATION ? (\r\n          <div>\r\n            <button onClick={() => onSecurityCheckApprove(lot)}>Approve</button>\r\n            <button onClick={() => onSecurityCheckDecline(lot)}>Decline</button>\r\n          </div>\r\n        ) : lot.security_checked ? (\r\n          \"Да\"\r\n        ) : (\r\n          \"Нет\"\r\n        )}\r\n      </td>\r\n      <td>\r\n        {lotsPageType === lotsPageTypesEnum.GUARANTEE ? (\r\n          <div>\r\n            <input\r\n              type=\"number\"\r\n              value={guarantee}\r\n              onChange={(event) => onGuaranteeChange(event, lot, lotIndex)}\r\n            ></input>\r\n            <div>\r\n              <button onClick={() => onGuaranteeSet(lot)}>Set</button>\r\n              <button onClick={() => onGuaranteeRemove(lot)}>Remove</button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          lot.guarantee_percentage\r\n        )}\r\n      </td>\r\n      {lotsPageType === lotsPageTypesEnum.UNAPPROVED && (\r\n        <td>\r\n          <button onClick={() => onApprove(lot)}>Approve</button>\r\n          <button onClick={() => onRemove(lot)}>Remove</button>\r\n        </td>\r\n      )}\r\n    </tr>\r\n  );\r\n}\r\n","export default function dateFix(date) {\r\n  let givenDate = new Date(date.replace(/ /g, \"T\"));\r\n  let day = givenDate.getDate();\r\n  let month = givenDate.getMonth();\r\n  let year = givenDate.getFullYear();\r\n  return `${day}.${month + 1}.${year}`;\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport authService from \"../services/Auth\";\r\nimport Translate from \"../services/Translate\";\r\nimport { URL } from \"../constants\";\r\nimport { LotsPageTypeContext, lotsPageTypesEnum } from \"./Sidebar\";\r\nimport Modal from \"./Modal\";\r\nimport LotsItem from \"./LotsItem\";\r\n\r\nexport function LotsList({\r\n  list,\r\n  refreshList,\r\n\r\n  onApprove,\r\n  onRemove,\r\n  isGuaranteeList,\r\n  show,\r\n}) {\r\n  const lotsPageType = useContext(LotsPageTypeContext);\r\n\r\n  return !list.length ? (\r\n    <h1>По данному запросу нет лотов.</h1>\r\n  ) : (\r\n    <table className=\"lot-table\" id=\"lotTable\">\r\n      <thead>\r\n        <tr>\r\n          <th>Дата</th>\r\n          <th>Название лота</th>\r\n          <th>Имя</th>\r\n          <th>Сумма</th>\r\n          <th>Валюта</th>\r\n          <th>Срок, мес.</th>\r\n          <th>Метод погашения</th>\r\n          <th>Обеспечение</th>\r\n          <th>Ставка годовых</th>\r\n          <th>Форма кредитирования</th>\r\n          <th>Проверенное Обеспечение</th>\r\n          <th>Гарантия клуба</th>\r\n          {lotsPageType === lotsPageTypesEnum.UNAPPROVED && (\r\n            <th>Подтвердить</th>\r\n          )}\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {list.map((lot, lotIndex) => (\r\n          <LotsItem key={lot.id} lot={lot} refreshList={refreshList} />\r\n        ))}\r\n        {/* {list.map((lot, lotIndex) => (\r\n          <tr key={lot.id}>\r\n            <td>{dateFix(lot.date)}</td>\r\n            <td>{lot.name}</td>\r\n            <td>{lot.user}</td>\r\n            <td>{lot.amount}</td>\r\n            <td>{lot.currency}</td>\r\n            <td>{lot.term}</td>\r\n            <td>{Translate(lot.return_way)}</td>\r\n            <td>{lot.security}</td>\r\n            <td>{lot.percentage}</td>\r\n            <td>{Translate(lot.form)}</td>\r\n            <td>{lot.security_checked ? \"Да\" : \"Нет\"}</td>\r\n            <td>\r\n              {isGuaranteeList ? (\r\n                <input\r\n                  type=\"number\"\r\n                  value={lot.guarantee_percentage}\r\n                  onChange={(event) =>\r\n                    onLotGuaranteeChange(event, lot, lotIndex)\r\n                  }\r\n                ></input>\r\n              ) : (\r\n                lot.guarantee_percentage\r\n              )}\r\n            </td>\r\n            <td>\r\n              <button onClick={() => onApprove(lot)}>Approve</button>\r\n              <button onClick={() => onRemove(lot)}>Remove</button>\r\n            </td>\r\n          </tr>\r\n        ))} */}\r\n      </tbody>\r\n      {/* <Modal show={show} /> */}\r\n    </table>\r\n  );\r\n}\r\n\r\nLotsList.propTypes = {\r\n  list: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n};\r\n\r\nLotsList.defaultProps = {\r\n  list: [],\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport { LotsList } from \"./LotsList\";\r\nimport { URL } from \"../constants\";\r\nimport lotsService from \"../services/Lots\";\r\nimport authService from \"../services/Auth\";\r\n\r\nconst LotsPage = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [lots, setLots] = useState();\r\n\r\n  // const onLotApprove = async (lot) => {\r\n  //   try {\r\n  //     const authToken = authService.getAuthToken();\r\n\r\n  //     const response = await fetch(URL + `lots/${lot.id}/approve`, {\r\n  //       method: \"PUT\",\r\n  //       headers: {\r\n  //         Authorization: `Basic ${authToken}`,\r\n  //         \"Content-Type\": \"application/json\",\r\n  //       },\r\n  //     });\r\n\r\n  //     if (!response.ok) {\r\n  //       throw new Error(\"Unsuccessfull response\");\r\n  //     }\r\n\r\n  //     return await response.json();\r\n  //   } catch (error) {\r\n  //   } finally {\r\n  //     await refreshList();\r\n  //   }\r\n  // };\r\n\r\n  // const onLotRemove = async (lot) => {\r\n  //   try {\r\n  //     const authToken = authService.getAuthToken();\r\n  //     // const reason = document.getElementById(\"declineReason\").value;\r\n  //     const reason = { reason: \"Лот не подходит под стандарты.\" };\r\n  //     const response = await fetch(URL + `lots/unapproved/${lot.id}`, {\r\n  //       method: \"DELETE\",\r\n  //       headers: {\r\n  //         Authorization: `Basic ${authToken}`,\r\n  //         \"Content-Type\": \"application/json\",\r\n  //       },\r\n  //       body: JSON.stringify(reason),\r\n  //     });\r\n\r\n  //     if (!response.ok) {\r\n  //       throw new Error(\"Unsuccessfull response\");\r\n  //     }\r\n\r\n  //     return await response.json();\r\n  //   } catch (error) {\r\n  //   } finally {\r\n  //     await refreshList();\r\n  //   }\r\n  // };\r\n\r\n  const refreshList = async () => {\r\n    setLoading(true);\r\n\r\n    try {\r\n      const lots = await lotsService.getLots();\r\n      setLots(lots);\r\n    } catch (error) {\r\n      setLots();\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    refreshList();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"lots-page\">\r\n      {loading ? (\r\n        <h1 className=\"heading\">Loading...</h1>\r\n      ) : (\r\n        <div>\r\n          <h1 className=\"heading\">Лоты</h1>\r\n          <LotsList list={lots} refreshList={refreshList} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LotsPage;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport { LotsList } from \"./LotsList\";\r\nimport { URL } from \"../constants\";\r\nimport lotsService from \"../services/Lots\";\r\nimport authService from \"../services/Auth\";\r\n\r\nconst VerificationLots = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [lots, setLots] = useState();\r\n\r\n  const onVerifyApprove = async (lot) => {\r\n    try {\r\n      const authToken = authService.getAuthToken();\r\n\r\n      const response = await fetch(URL + `lots/${lot.id}/security`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          Authorization: `Basic ${authToken}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Unsuccessfull response\");\r\n      }\r\n\r\n      return await response.json();\r\n    } catch (error) {\r\n    } finally {\r\n      await refreshList();\r\n    }\r\n  };\r\n\r\n  const onVerifyRemove = async (lot) => {\r\n    try {\r\n      const authToken = authService.getAuthToken();\r\n\r\n      const response = await fetch(URL + `lots/${lot.id}/security`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          Authorization: `Basic ${authToken}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Unsuccessfull response\");\r\n      }\r\n\r\n      return await response.json();\r\n    } catch (error) {\r\n    } finally {\r\n      await refreshList();\r\n    }\r\n  };\r\n\r\n  const refreshList = async () => {\r\n    setLoading(true);\r\n\r\n    try {\r\n      const lots = await lotsService.verificationLots();\r\n      setLots(lots);\r\n    } catch (error) {\r\n      setLots();\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    refreshList();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"lots-page\">\r\n      {loading ? (\r\n        <h1 className=\"heading\">Loading...</h1>\r\n      ) : (\r\n        <div>\r\n          <h1 className=\"heading\">Обеспечение</h1>\r\n          <LotsList\r\n            list={lots}\r\n            refreshList={refreshList}\r\n            onApprove={onVerifyApprove}\r\n            onRemove={onVerifyRemove}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VerificationLots;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport { LotsList } from \"./LotsList\";\r\nimport { URL } from \"../constants\";\r\nimport lotsService from \"../services/Lots\";\r\nimport authService from \"../services/Auth\";\r\n\r\nconst GuaranteeLots = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [lots, setLots] = useState();\r\n\r\n  const refreshList = async () => {\r\n    setLoading(true);\r\n\r\n    try {\r\n      const lots = await lotsService.guaranteeLots();\r\n      setLots(lots);\r\n    } catch (error) {\r\n      setLots();\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    refreshList();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"lots-page\">\r\n      {loading ? (\r\n        <h1 className=\"heading\">Loading...</h1>\r\n      ) : (\r\n        <div>\r\n          <h1 className=\"heading\">Гарантия</h1>\r\n          <LotsList\r\n            list={lots}\r\n            refreshList={refreshList}\r\n            // onApprove={onGuaranteeApprove}\r\n            // onRemove={onGuaranteeRemove}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GuaranteeLots;\r\n","import React, { useState } from \"react\";\r\nimport { encData, URL } from \"../constants\";\r\nimport authService from \"../services/Auth\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\nconst ModeratorsPage = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState(\"\");\r\n\r\n  const authToken = authService.getAuthToken();\r\n\r\n  const handleMakeModerator = async () => {\r\n    const modermail = document.getElementById(\"modermail\").value;\r\n    setLoading(true);\r\n    try {\r\n      const response = await fetch(URL + \"user/\" + modermail + \"/moderator\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: `Basic ${authToken}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n      const result = await response.json();\r\n      if (!response.ok) {\r\n        if (result.type === \"UserNotExists\") {\r\n          throw new Error(\"UserNotExists\");\r\n        } else throw new Error(\"Fetch fail\");\r\n      } else {\r\n        alert(\"Успешно!\");\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      error.message === \"UserNotExists\"\r\n        ? setErrorMsg(\"Ошибка! Такого пользователя не существует.\")\r\n        : setErrorMsg(\"Ошибка! Проверьте подключение к интернету.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteModerator = async () => {\r\n    const modermail = document.getElementById(\"modermail\").value;\r\n    setLoading(true);\r\n    try {\r\n      const response = await fetch(URL + \"user/\" + modermail + \"/moderator\", {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          Authorization: `Basic ${authToken}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n      const result = await response.json();\r\n      if (!response.ok) {\r\n        if (result.type === \"UserNotExists\") {\r\n          throw new Error(\"UserNotExists\");\r\n        } else throw new Error(\"Fetch fail\");\r\n      } else {\r\n        alert(\"Успешно!\");\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      error.message === \"UserNotExists\"\r\n        ? setErrorMsg(\"Ошибка! Такого пользователя не существует.\")\r\n        : setErrorMsg(\"Ошибка! Проверьте подключение к интернету.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"moderators-page_container\">\r\n      <h1 className=\"heading\">Модерирование</h1>\r\n      <h3>Введите почту пользователя в поле ниже и выберите действие.</h3>\r\n      <input className=\"form-control mt-4\" id=\"modermail\" type=\"email\"></input>\r\n      <div className=\"moderators-page_btns\">\r\n        <button\r\n          className=\"btn btn-primary moderator-btn\"\r\n          id=\"makeModerator\"\r\n          onClick={handleMakeModerator}\r\n        >\r\n          {loading ? (\r\n            <Spinner size=\"sm\" animation=\"border\" />\r\n          ) : (\r\n            \"СДЕЛАТЬ МОДЕРАТОРОМ\"\r\n          )}\r\n        </button>\r\n        <button\r\n          className=\"btn btn-primary moderator-btn ml-1\"\r\n          id=\"deleteModerator\"\r\n          onClick={handleDeleteModerator}\r\n        >\r\n          {loading ? (\r\n            <Spinner size=\"sm\" animation=\"border\" />\r\n          ) : (\r\n            \"УБРАТЬ ПОЛНОМОЧИЯ\"\r\n          )}\r\n        </button>\r\n      </div>\r\n      {errorMsg && <p className=\"errorMsg\">{errorMsg}</p>}\r\n    </div>\r\n  );\r\n};\r\nexport default ModeratorsPage;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport Translate from \"../services/Translate\";\r\nimport { URL } from \"../constants\";\r\nimport lotsService from \"../services/Lots\";\r\nimport authService from \"../services/Auth\";\r\n\r\nconst ApprovedLots = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [lots, setLots] = useState();\r\n\r\n  const onSubscriptionDecline = async (id) => {\r\n    try {\r\n      const authToken = authService.getAuthToken();\r\n\r\n      const response = await fetch(URL + `lots/subscription/${id}/unapprove`, {\r\n        method: \"GET\",\r\n        headers: {\r\n          Authorization: `Basic ${authToken}`,\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Unsuccessfull response\");\r\n      }\r\n\r\n      return await response.json();\r\n    } catch (error) {\r\n    } finally {\r\n      await refreshList();\r\n    }\r\n  };\r\n\r\n  const refreshList = async () => {\r\n    setLoading(true);\r\n\r\n    try {\r\n      const lots = await lotsService.getApprovedSubscriptions();\r\n      setLots(lots);\r\n      console.log(lots);\r\n    } catch (error) {\r\n      setLots();\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    refreshList();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"lots-page\">\r\n      {loading ? (\r\n        <h1 className=\"heading\">Loading...</h1>\r\n      ) : lots.lots.length !== 0 ? (\r\n        <div>\r\n          <h1 className=\"heading\">Подтвержденные подписки</h1>\r\n          <table className=\"lot-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>№</th>\r\n                <th>Страница</th>\r\n                <th>Сообщение</th>\r\n                <th>Тип</th>\r\n                <th>Подписчик</th>\r\n                <th>Убрать подписку</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {lots.lots.map((lot, index) => (\r\n                <tr key={lot.lot}>\r\n                  <td>{index + 1}</td>\r\n                  <td>\r\n                    <a href={`/lot.html?id=${lot.lot}`}>Страница лота</a>\r\n                  </td>\r\n                  <td>{lot.message ? lot.message : \"Не указано\"}</td>\r\n                  <td>{Translate(lot.type)}</td>\r\n                  <td>{lot.user}</td>\r\n                  <td>\r\n                    <button onClick={() => onSubscriptionDecline(lot.id)}>\r\n                      Remove\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      ) : (\r\n        <h2>Не найдено лотов по запросу</h2>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ApprovedLots;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport Translate from \"../services/Translate\";\r\nimport { URL } from \"../constants\";\r\nimport lotsService from \"../services/Lots\";\r\nimport authService from \"../services/Auth\";\r\n\r\nconst UnapprovedLots = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [lots, setLots] = useState();\r\n\r\n  const onSubscriptionApprove = async (id) => {\r\n    try {\r\n      const authToken = authService.getAuthToken();\r\n      const response = await fetch(URL + `lots/subscription/${id}/approve`, {\r\n        method: \"GET\",\r\n        headers: {\r\n          Authorization: `Basic ${authToken}`,\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Unsuccessfull response\");\r\n      }\r\n      return await response.json();\r\n    } catch (error) {\r\n    } finally {\r\n      await refreshList();\r\n    }\r\n  };\r\n\r\n  const refreshList = async () => {\r\n    setLoading(true);\r\n\r\n    try {\r\n      const lots = await lotsService.getUnapprovedSubscriptions();\r\n      setLots(lots);\r\n      console.log(lots);\r\n    } catch (error) {\r\n      setLots();\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    refreshList();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"lots-page\">\r\n      {loading ? (\r\n        <h1 className=\"heading\">Loading...</h1>\r\n      ) : lots.lots.length !== 0 ? (\r\n        <div>\r\n          <h1 className=\"heading\">Неподтвержденные подписки</h1>\r\n          <table className=\"lot-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>№</th>\r\n                <th>Страница</th>\r\n                <th>Сообщение</th>\r\n                <th>Тип</th>\r\n                <th>Подписчик</th>\r\n                <th>Подтвердить</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {lots.lots.map((lot, index) => (\r\n                <tr key={lot.lot}>\r\n                  <td>{index + 1}</td>\r\n                  <td>\r\n                    <a href={`/lot.html?id=${lot.lot}`}>Страница лота</a>\r\n                  </td>\r\n                  <td>{lot.message ? lot.message : \"Не указано\"}</td>\r\n                  <td>{Translate(lot.type)}</td>\r\n                  <td>{lot.user}</td>\r\n                  <td>\r\n                    <button onClick={() => onSubscriptionApprove(lot.id)}>\r\n                      Approve\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      ) : (\r\n        <h2>Не найдено лотов по запросу</h2>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UnapprovedLots;\r\n","import React, { useState, createContext } from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  useLocation,\r\n  useHistory,\r\n} from \"react-router-dom\";\r\nimport LotsPage from \"./LotsPage\";\r\nimport VerificationLots from \"./VerificationLots\";\r\nimport GuaranteeLots from \"./GuaranteeLots\";\r\nimport ModeratorsPage from \"./ModeratorsPage\";\r\nimport AuthService from \"../services/Auth\";\r\nimport \"../Admin.css\";\r\nimport logo from \"../letter-a.png\";\r\nimport ApprovedLots from \"./ApprovedLots\";\r\nimport UnapprovedLots from \"./UnapprovedLots\";\r\n\r\nexport const lotsPageTypesEnum = {\r\n  UNAPPROVED: \"UNAPPROVED\",\r\n  VERIFICATION: \"VERIFICATION\",\r\n  GUARANTEE: \"GUARANTEE\",\r\n};\r\n\r\nexport const LotsPageTypeContext = createContext(lotsPageTypesEnum.UNAPPROVED);\r\n\r\nconst Sidebar = (props) => {\r\n  const location = useLocation();\r\n  const [lotsPageTypes, setLotsPageTypes] = useState(\r\n    location.pathname.includes(\"/lots/unapproved\")\r\n      ? lotsPageTypesEnum.UNAPPROVED\r\n      : location.pathname.includes(\"/guarantee\")\r\n      ? lotsPageTypesEnum.GUARANTEE\r\n      : location.pathname.includes(\"/verification\")\r\n      ? lotsPageTypesEnum.VERIFICATION\r\n      : undefined\r\n  );\r\n  const history = useHistory();\r\n  const handleLogout = () => {\r\n    AuthService.logout();\r\n    history.push(\"/login\");\r\n  };\r\n  const user = localStorage.getItem(\"role\");\r\n\r\n  const changeLotsPageType = (lpt) => {\r\n    setLotsPageTypes(lpt);\r\n  };\r\n\r\n  return (\r\n    <LotsPageTypeContext.Provider value={lotsPageTypes}>\r\n      {user === \"admin\" ? (\r\n        <Router>\r\n          <div className=\"sidebar_container\">\r\n            <div className=\"sidebar\">\r\n              <div className=\"sidebar-header\">\r\n                <img className=\"sidebar__logo\" src={logo} alt=\"BrokAdmin\"></img>\r\n              </div>\r\n              <Link\r\n                onClick={() => changeLotsPageType(lotsPageTypesEnum.UNAPPROVED)}\r\n                to=\"/admin/dashboard/lots/unapproved\"\r\n              >\r\n                Лоты\r\n              </Link>\r\n              <Link to=\"/admin/dashboard/moderators\">Модераторы</Link>\r\n              <Link\r\n                onClick={() => changeLotsPageType(lotsPageTypesEnum.GUARANTEE)}\r\n                to=\"/admin/dashboard/guarantee\"\r\n              >\r\n                Гарантия\r\n              </Link>\r\n              <Link\r\n                onClick={() =>\r\n                  changeLotsPageType(lotsPageTypesEnum.VERIFICATION)\r\n                }\r\n                to=\"/admin/dashboard/verification\"\r\n              >\r\n                Обеспечение\r\n              </Link>\r\n              <Link to=\"/admin/dashboard/subscriptions/unapproved\">\r\n                Неподтвержденные<p>Подписки</p>\r\n              </Link>\r\n              <Link to=\"/admin/dashboard/subscriptions/approved\">\r\n                Подтвержденные<p>Подписки</p>\r\n              </Link>\r\n              <button onClick={handleLogout}>Выйти</button>\r\n            </div>\r\n            <Switch>\r\n              <Route\r\n                exact\r\n                path=\"/admin/dashboard/lots/unapproved\"\r\n                component={LotsPage}\r\n              ></Route>\r\n              <Route\r\n                path=\"/admin/dashboard/moderators\"\r\n                component={ModeratorsPage}\r\n              ></Route>\r\n              <Route\r\n                path=\"/admin/dashboard/guarantee\"\r\n                component={GuaranteeLots}\r\n              ></Route>\r\n              <Route\r\n                path=\"/admin/dashboard/verification\"\r\n                component={VerificationLots}\r\n              ></Route>\r\n              <Route\r\n                path=\"/admin/dashboard/subscriptions/approved\"\r\n                component={ApprovedLots}\r\n              ></Route>\r\n              <Route\r\n                path=\"/admin/dashboard/subscriptions/unapproved\"\r\n                component={UnapprovedLots}\r\n              ></Route>\r\n            </Switch>\r\n          </div>\r\n        </Router>\r\n      ) : (\r\n        <Router>\r\n          <div className=\"sidebar_container\">\r\n            <div className=\"sidebar\">\r\n              <div className=\"sidebar-header\">\r\n                <img className=\"sidebar__logo\" src={logo} alt=\"BrokAdmin\"></img>\r\n              </div>\r\n              <Link\r\n                onClick={() => changeLotsPageType(lotsPageTypesEnum.UNAPPROVED)}\r\n                to=\"/admin/dashboard/lots/unapproved\"\r\n              >\r\n                Лоты\r\n              </Link>\r\n              <Link\r\n                onClick={() => changeLotsPageType(lotsPageTypesEnum.GUARANTEE)}\r\n                to=\"/admin/dashboard/guarantee\"\r\n              >\r\n                Гарантия\r\n              </Link>\r\n              <Link\r\n                onClick={() =>\r\n                  changeLotsPageType(lotsPageTypesEnum.VERIFICATION)\r\n                }\r\n                to=\"/admin/dashboard/verification\"\r\n              >\r\n                Обеспечение\r\n              </Link>\r\n              <Link to=\"/admin/dashboard/subscriptions/unapproved\">\r\n                Неподтвержденные<p>Подписки</p>\r\n              </Link>\r\n              <Link to=\"/admin/dashboard/subscriptions/approved\">\r\n                Подтвержденные<p>Подписки</p>\r\n              </Link>\r\n              <button onClick={handleLogout}>Выйти</button>\r\n            </div>\r\n            <Switch>\r\n              <Route\r\n                exact\r\n                path=\"/admin/dashboard/lots/unapproved\"\r\n                component={LotsPage}\r\n              ></Route>\r\n              <Route\r\n                path=\"/admin/dashboard/guarantee\"\r\n                component={GuaranteeLots}\r\n              ></Route>\r\n              <Route\r\n                path=\"/admin/dashboard/verification\"\r\n                component={VerificationLots}\r\n              ></Route>\r\n              <Route\r\n                path=\"/admin/dashboard/subscriptions/approved\"\r\n                component={ApprovedLots}\r\n              ></Route>\r\n              <Route\r\n                path=\"/admin/dashboard/subscriptions/unapproved\"\r\n                component={UnapprovedLots}\r\n              ></Route>\r\n            </Switch>\r\n          </div>\r\n        </Router>\r\n      )}\r\n    </LotsPageTypeContext.Provider>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import React from \"react\";\r\nimport {\r\n  BrowserRouter,\r\n  Route,\r\n  Switch,\r\n  Redirect,\r\n  useHistory,\r\n} from \"react-router-dom\";\r\n\r\nimport PrivateRoute from \"./components/PrivateRoute\";\r\nimport IndexPage from \"./components/IndexPage\";\r\nimport LoginPage from \"./components/LoginPage\";\r\nimport Sidebar from \"./components/Sidebar\";\r\nimport LotsPage from \"./components/LotsPage\";\r\nimport { BASE_HREF } from \"./constants\";\r\n\r\n// TODO: in Auth change 'user' to 'admin' when ready\r\n// TODO: change 'user' to 'admin' in Sidebar return\r\nfunction App() {\r\n  return (\r\n    <BrowserRouter basename={BASE_HREF}>\r\n      <Switch>\r\n        <PrivateRoute path=\"/dashboard\">\r\n          <Sidebar />\r\n        </PrivateRoute>\r\n        <Route exact path=\"/login\">\r\n          <LoginPage />\r\n        </Route>\r\n        <Route path=\"/\">\r\n          <IndexPage />\r\n        </Route>\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}